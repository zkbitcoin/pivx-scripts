// earnings data
const json = "[\n" +
    "  {\n" +
    "    \"a\": \"D5B883rADzdGGCPtFTEk6xCnTQi1hPkhBt\",\n" +
    "    \"dc\": [\n" +
    "      {\n" +
    "        \"d\": 1562029200,\n" +
    "        \"r\": 36400000000,\n" +
    "        \"s\": 0,\n" +
    "        \"ss\": 0\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1563498000,\n" +
    "        \"r\": 36600000000,\n" +
    "        \"s\": 36400000000,\n" +
    "        \"ss\": 36600000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1563937200,\n" +
    "        \"r\": 36800000000,\n" +
    "        \"s\": 36600000000,\n" +
    "        \"ss\": 36800000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1565017200,\n" +
    "        \"r\": 37000000000,\n" +
    "        \"s\": 36800000000,\n" +
    "        \"ss\": 37000000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1565697600,\n" +
    "        \"r\": 37200000000,\n" +
    "        \"s\": 37000000000,\n" +
    "        \"ss\": 37200000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1568797200,\n" +
    "        \"r\": 37400000000,\n" +
    "        \"s\": 37200000000,\n" +
    "        \"ss\": 37400000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1570017600,\n" +
    "        \"r\": 37600000000,\n" +
    "        \"s\": 37400000000,\n" +
    "        \"ss\": 37600000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1571576400,\n" +
    "        \"r\": 37800000000,\n" +
    "        \"s\": 37600000000,\n" +
    "        \"ss\": 37800000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1574042400,\n" +
    "        \"r\": 38000000000,\n" +
    "        \"s\": 37800000000,\n" +
    "        \"ss\": 38000000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1574769600,\n" +
    "        \"r\": 38200000000,\n" +
    "        \"s\": 38000000000,\n" +
    "        \"ss\": 38200000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1579053600,\n" +
    "        \"r\": 38400000000,\n" +
    "        \"s\": 38200000000,\n" +
    "        \"ss\": 38400000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1580947200,\n" +
    "        \"r\": 38600000000,\n" +
    "        \"s\": 38400000000,\n" +
    "        \"ss\": 38600000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1588777200,\n" +
    "        \"r\": 38800000000,\n" +
    "        \"s\": 38600000000,\n" +
    "        \"ss\": 38800000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1593331200,\n" +
    "        \"r\": 39000000000,\n" +
    "        \"s\": 38800000000,\n" +
    "        \"ss\": 39000000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1597971600,\n" +
    "        \"r\": 39200000000,\n" +
    "        \"s\": 39000000000,\n" +
    "        \"ss\": 39200000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1612382400,\n" +
    "        \"r\": 39400000000,\n" +
    "        \"s\": 39200000000,\n" +
    "        \"ss\": 39400000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1614020400,\n" +
    "        \"r\": 39600000000,\n" +
    "        \"s\": 39400000000,\n" +
    "        \"ss\": 39600000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1614247200,\n" +
    "        \"r\": 39800000000,\n" +
    "        \"s\": 39600000000,\n" +
    "        \"ss\": 39800000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1614668400,\n" +
    "        \"r\": 40000000000,\n" +
    "        \"s\": 39800000000,\n" +
    "        \"ss\": 40000000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1615122000,\n" +
    "        \"r\": 40200000000,\n" +
    "        \"s\": 40000000000,\n" +
    "        \"ss\": 40200000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1617584400,\n" +
    "        \"r\": 40400000000,\n" +
    "        \"s\": 40200000000,\n" +
    "        \"ss\": 40400000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1618358400,\n" +
    "        \"r\": 40600000000,\n" +
    "        \"s\": 40400000000,\n" +
    "        \"ss\": 40600000000\n" +
    "      },\n" +
    "      {\n" +
    "        \"d\": 1635282000,\n" +
    "        \"r\": 40800000000,\n" +
    "        \"s\": 40600000000,\n" +
    "        \"ss\": 40800000000\n" +
    "      }\n" +
    "    ]\n" +
    "  },\n" +
    "  {\n" +
    "    \"a\": \"DBjAv4UVCnLetT7mycjjDCjr281svhWE5o\",\n" +
    "    \"dc\": [\n" +
    "      {\n" +
    "        \"d\": 1605204000,\n" +
    "        \"r\": 1782758215559,\n" +
    "        \"s\": 0,\n" +
    "        \"ss\": 0\n" +
    "      }\n" +
    "    ]\n" +
    "  }\n" +
    "]"

const balances_data = JSON.parse(json);

var xValue = []
var yValue = []

var balance = 0

console.log(balances_data[0].dc.length)
for (var i = 0; i < balances_data[0].dc.length; i++) {
    var time = balances_data[0].dc[i].t;
    console.log(time)
    balance = balance + (Number(balances_data[0].dc[i].r) - Number(balances_data[0].dc[i].s)) / 100000000;
    var date = new Date(time * 1000);
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
    xValue.push(year + "-" + ("0" + month).slice(-2) + "-" + ("0" + day).slice(-2))
    yValue.push(balance)
}

var trace = {
    x: xValue,
    y: yValue,
    type: 'line',
    text: yValue.map(String),
    textposition: 'auto',
    opacity: 1.5,
    marker: {
        color: '#2c0b4c',
        line: {
            color: 'rgb(8,48,107)',
            width: 1.5
        }
    }
};

var data = [trace];

var layout = {
    title: 'Address Balance'
};

Plotly.newPlot('root', data, layout);